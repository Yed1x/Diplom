# 5. РАЗРАБОТКА ПОЛЬЗОВАТЕЛЬСКИХ ИНТЕРФЕЙСОВ

## 5.1. Веб-интерфейс на Streamlit

### 5.1.1. Архитектура веб-приложения

Веб-интерфейс реализован с использованием фреймворка Streamlit, который обеспечивает быструю разработку интерактивных веб-приложений на Python. Основной файл приложения - `app.py`.

```python
def main():
    st.title("Система классификации шахматных фигур")
    
    # Загрузка изображений
    uploaded_files = st.file_uploader(
        "Выберите изображения шахматных фигур",
        type=['jpg', 'jpeg', 'png'],
        accept_multiple_files=True
    )
    
    if uploaded_files:
        for uploaded_file in uploaded_files:
            process_image(uploaded_file)
```

### 5.1.2. Функциональность веб-интерфейса

Реализованы следующие функции:
- Загрузка одного или нескольких изображений
- Отображение результатов классификации
- Фильтрация истории предсказаний
- Экспорт результатов в CSV

## 5.2. Десктопное приложение на PyQt5

### 5.2.1. Архитектура десктопного приложения

Десктопное приложение разработано с использованием PyQt5 и реализовано в файле `chess_classifier_gui.py`. Приложение предоставляет расширенные возможности по сравнению с веб-интерфейсом.

```python
class ChessClassifierGUI(QMainWindow):
    def __init__(self):
        super().__init__()
        self.setWindowTitle("Классификатор шахматных фигур")
        self.setup_ui()
        
    def setup_ui(self):
        # Создание главного виджета
        main_widget = QWidget()
        self.setCentralWidget(main_widget)
        
        # Создание layout
        layout = QVBoxLayout()
        main_widget.setLayout(layout)
        
        # Добавление элементов интерфейса
        self.add_controls(layout)
        self.add_image_view(layout)
        self.add_results_view(layout)
```

### 5.2.2. Функциональность десктопного приложения

Реализованы следующие функции:
- Загрузка изображений через диалог выбора файлов
- Предварительный просмотр изображений
- Настройка параметров классификации
- Сохранение результатов в различных форматах
- Экспорт истории предсказаний

## 5.3. Система логирования

### 5.3.1. Структура логов

Система логирования реализована с использованием модуля `logging` Python. Логи сохраняются в следующих форматах:
- Текстовые логи для отладки
- CSV-файлы для истории предсказаний
- JSON-файлы для метрик производительности

```python
def setup_logging():
    """
    Настройка системы логирования
    """
    logging.basicConfig(
        level=logging.INFO,
        format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
        handlers=[
            logging.FileHandler('chess_classifier.log'),
            logging.StreamHandler()
        ]
    )
```

### 5.3.2. Анализ результатов

Реализованы следующие функции анализа:
- Статистика по классам
- Визуализация уверенности модели
- Экспорт отчетов

## 5.4. Выводы по разделу

В результате разработки пользовательских интерфейсов были достигнуты следующие результаты:

1. Создан удобный веб-интерфейс на Streamlit
2. Разработано функциональное десктопное приложение на PyQt5
3. Реализована система логирования и анализа результатов
4. Обеспечена совместимость с различными операционными системами
5. Создана подробная документация по использованию интерфейсов

Пользовательские интерфейсы успешно интегрированы в систему и обеспечивают удобный доступ к функциональности классификации шахматных фигур. 